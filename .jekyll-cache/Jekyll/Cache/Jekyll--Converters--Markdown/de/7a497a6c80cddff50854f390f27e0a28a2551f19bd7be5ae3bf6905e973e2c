I"†§<p>In my <a href="/2018/09/10/secret-colors.html">previous</a> post, I introduced readers to my new <code class="language-plaintext highlighter-rouge">python</code> library called <a href="https://pypi.org/project/SecretColors/">SecretColors</a> to get excellent colors to your python workflow. Essentially this library has collections of various different color palettes and very easy API to access them without searching for hex codes or RGB values. This blog post explains the basic concepts of this library along with examples. If you are here just for the comparison of this library with <code class="language-plaintext highlighter-rouge">matplotlib</code>, you can check out <a href="/2019/06/17/matplotlib-secret-colors.html">this</a> blog post.</p>

<h3 id="table-of-content">Table of content</h3>
<ol>
  <li><a href="#background">Background</a></li>
  <li><a href="#basic">Basic Concepts</a></li>
  <li><a href="#palette">Palette</a></li>
  <li><a href="#colors">Colors</a></li>
  <li><a href="#modes">Color Modes</a></li>
  <li><a href="#shades">Shades</a></li>
  <li><a href="#logic">Logical Normalization of shades</a></li>
  <li><a href="#gradients">Color Gradients</a></li>
  <li><a href="#random">Random Colors</a></li>
  <li><a href="#matplotlib">Matplotlib Integration</a></li>
  <li><a href="#colormap">ColorMap</a></li>
  <li><a href="#utils">Utilities</a></li>
</ol>

<h2 id="background">Background</h2>
<p><a name="background"></a>
Before I explain the basic concepts behind this library, it is important to know why I created this library. Color is very important in data science. There are plenty of courses and blog posts which highlights the importance of colors in data visualization. Importance of it is out of the scope of this post. In <a href="https://rohitsuratekar.com/design">my</a> design process, I spend a significant amount of time selecting an appropriate color palette which can convey correct emotions of the artwork. Similarly, I spend good time on selecting proper color when I am using data visualization in conveying the information. Fortunately, from classic <a href="https://en.wikipedia.org/wiki/William_Playfair">Playfair</a>‚Äôs studies to modern publications, there is huge amount of research<sup><a href="#ref1">1</a>, <a href="#ref2">2</a>, <a href="#ref3">3</a></sup> has done in color theory and how colors can influence the visualization. I started using concepts from such research into my visualizations. Quickly I realize, various institutions and companies have already generated ‚Äúgood‚Äù colors for various use-cases which are effective in conveying a message to the readers. Then I started to use those colors in my daily workflow. Every time I had to go to their website and copy-paste desired color hex value. Some of the software like Adobe Photoshop or Adobe Illustrator has the option to add those color palettes in your daily workflow. However, while creating visualizations with programming, I had to resort to copy-paste mechanism. This was time-consuming and frustrating, especially when I am trying out a various color for the specific plot. Hence I went looking for some library which can give me access to such data on the fly. As of 29 May 2019, there are 3645 libraries in python‚Äôs <a href="https://pypi.org/search/?q=color">PyPi</a> distribution which is related to ‚Äúcolor‚Äù. I went through some of them but most of them were color manipulation or UI improvement libraries. Hence finally I decided to make this library to provide access to some popular color palettes. In addition, I added a few color manipulation tools to the library for flexibility.</p>

<h2 id="basic-concepts">Basic Concepts</h2>
<p><a name="basic"></a>
To use this library easily, there are only a few basic concepts which you need to understand. They are super simple and perform as named. Once you know how to use them, your imagination is the limit!</p>

<p>When this library was created, I was using it only for <code class="language-plaintext highlighter-rouge">matplotlib</code> plotting. Many of the functions are optimized and user-friendly for <code class="language-plaintext highlighter-rouge">matplotlib</code>. However, you can use it in any of your workflows. It will shine anywhere you are dealing with colors :)</p>

<h3 id="palette">Palette</h3>
<p><a name="palette"></a>
The basic unit of this library is the <strong>Palette</strong> class.  It is essentially an object holding your color palette.  This is the entrance of this library. You can create this object just like any other <code class="language-plaintext highlighter-rouge">python</code> object initialization,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">SecretColors.palette</span> <span class="kn">import</span> <span class="n">Palette</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">()</span>  <span class="c1"># This is your `Palette` object
</span></code></pre></div></div>

<p>Above code will generate object holding default color palette (IBM Color Palette). To initialize different color palette, you can simply put its name while initializing the palette,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ibm</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">(</span><span class="s">"ibm"</span><span class="p">)</span>  <span class="c1"># IBM Color Palette
</span><span class="n">material</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">(</span><span class="s">"material"</span><span class="p">)</span>  <span class="c1"># Google Material Design Color Palette
</span></code></pre></div></div>

<p>Currently this library supports following color palettes</p>

<ul>
  <li><strong>ibm</strong> - <a href="https://www.ibm.com/design/language/elements/color/">IBM </a> Color Palette v2 + v1 [<em>Default</em>, for now]</li>
  <li><strong>material</strong> - <a href="https://material.io/tools/color/">Google Material Design</a> Color Palettes</li>
  <li><strong>brewer</strong> - <a href="http://colorbrewer2.org">ColorBrewer2</a> Color Palette</li>
  <li><strong>clarity</strong> - <a href="https://clarity.design/documentation/color">VMWare Clarity</a> Color Palette</li>
</ul>

<p>This class is created flexible so that we can add unlimited color palettes in the future.  If you are curious which all actual colors are used in this library, you can take a look at <a href="https://github.com/secretBiology/SecretColors/blob/c633ee935f8f21b5d2360626fdc9acdadb63cd45/SecretColors/__colors.py">this</a> file. However, the next section will explain it to you how easy it is to access all of those colors without memorizing them.</p>

<p>In future, I would like to add my own custom color palette as a default which should take best of all palettes and make something even better.</p>

<h3 id="colors">Colors</h3>
<p><a name="colors"></a>
Obviously, the most important aspect of this library is <strong>color</strong>. This library supports many out of the box colors (psst‚Ä¶ we don‚Äôt call ‚Äòblack‚Äô color as ‚Äòk‚Äô). You can use them directly as follows</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">()</span>
<span class="n">p</span><span class="p">.</span><span class="n">red</span><span class="p">()</span>  <span class="c1"># returns '#fb4b53'
</span><span class="n">p</span><span class="p">.</span><span class="n">green</span><span class="p">()</span>  <span class="c1"># returns '#24a148'
</span><span class="n">p</span><span class="p">.</span><span class="n">aqua</span><span class="p">()</span>  <span class="c1"># returns '#12a3b4'
</span></code></pre></div></div>

<p>Currently there are following colors available</p>

<table>
  <tbody>
    <tr>
      <td>red</td>
      <td>blue</td>
      <td>green</td>
      <td>magenta</td>
    </tr>
    <tr>
      <td>purple</td>
      <td>cyan</td>
      <td>teal</td>
      <td>gray_cool <sup>*</sup></td>
    </tr>
    <tr>
      <td>gray_neutral <sup>*</sup></td>
      <td>gray <sup>*</sup></td>
      <td>gray_warm <sup>*</sup></td>
      <td>red_orange <sup>*</sup></td>
    </tr>
    <tr>
      <td>black <sup>*</sup></td>
      <td>white <sup>*</sup></td>
      <td>ultramarine <sup>#</sup></td>
      <td>cerulean <sup>#</sup></td>
    </tr>
    <tr>
      <td>aqua <sup>#</sup></td>
      <td>lime <sup>#</sup></td>
      <td>yellow</td>
      <td>gold <sup>#</sup></td>
    </tr>
    <tr>
      <td>orange</td>
      <td>peach</td>
      <td>violet</td>
      <td>indigo</td>
    </tr>
    <tr>
      <td>pink</td>
      <td>purple_deep <sup>#</sup></td>
      <td>blue_light <sup>#</sup></td>
      <td>green_light <sup>#</sup></td>
    </tr>
    <tr>
      <td>orange_deep <sup>#</sup></td>
      <td>brown</td>
      <td>gray_blue <sup>*</sup></td>
      <td>¬†</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><sup>*</sup> These will be categorized as <code class="language-plaintext highlighter-rouge">gray_shades</code>
 <sup>#</sup> These will be categorized as <code class="language-plaintext highlighter-rouge">extra</code></p>
</blockquote>

<p>These color names are essentially from various color palettes used in this library. Even though some of the colors are not available in other palettes, this library will handle it automatically. It will pick a color from the next available color palette. For example, let‚Äôs say you are using ‚ÄúIBM‚Äù palette and used color <code class="language-plaintext highlighter-rouge">green_light</code>, the library will use <code class="language-plaintext highlighter-rouge">green_light</code> color from ‚ÄúGoogle Material‚Äù color palette as no such color is available in ‚ÄúIBM‚Äù color palette. Hence, you don‚Äôt have to worry about memorizing which colors are in which color palette.</p>

<p><code class="language-plaintext highlighter-rouge">gray_shade</code> colors will be omitted from color palette if you use <code class="language-plaintext highlighter-rouge">allow_gray_shades = False </code> option while initializing your color palette. This will affect when you are selecting random colors or iterating colors from the class iterator.  You can always access them by calling them directly. For now, there is no special treatment for <code class="language-plaintext highlighter-rouge">extra</code> colors. These are tagged for future functionalities.  Notice the spelling of ‚Äògray‚Äô, I used American English for  ‚Äòcolor‚Äô spellings.</p>

<h4 id="color-modes">Color Modes</h4>
<p><a name="modes"></a>
Another very easy and handy function available in this library is <strong>color mode</strong>. You can easily convert or output colors in a variety of color formats. You can specify <code class="language-plaintext highlighter-rouge">color_mode</code>  option either during palette object initialization or any time during object lifetime to control the color output format. Currently, this library supports following color modes,</p>

<ul>
  <li><strong>hex</strong> - Hex Format [<em>Default</em>]</li>
  <li><strong>rgb</strong> - RGB Format (values between 0 to 1)</li>
  <li><strong>rgb255</strong> - RGB Format (values between 0 to 255)</li>
  <li><strong>hsl</strong> - HSL Format (values between 0 to 1)</li>
  <li><strong>rgba</strong> - RGB with Alpha/Transparency (values between 0 to 1)</li>
  <li><strong>ahex</strong> - Hex with Alpha/Transparency (Appended before hex)</li>
  <li><strong>hexa</strong> - Hex with Alpha/Transparency (Appended after hex)</li>
  <li><strong>hsla</strong> - HSL with Alpha/Transparency (values between 0 to 1)</li>
</ul>

<p>For example,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p1</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">()</span> <span class="c1"># Default Color mode (hex)
</span><span class="n">p1</span><span class="p">.</span><span class="n">green</span><span class="p">()</span> <span class="c1"># '#24a148'
</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">(</span><span class="n">color_mode</span><span class="o">=</span><span class="s">"hexa"</span><span class="p">)</span>
<span class="n">p2</span><span class="p">.</span><span class="n">green</span><span class="p">()</span> <span class="c1"># '#24a148ff'
</span>
<span class="n">p3</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">(</span><span class="n">color_mode</span><span class="o">=</span><span class="s">"ahex"</span><span class="p">)</span>
<span class="n">p3</span><span class="p">.</span><span class="n">green</span><span class="p">()</span> <span class="c1"># '#ff24a148'
</span>
<span class="n">p4</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">(</span><span class="n">color_mode</span><span class="o">=</span><span class="s">"rgb"</span><span class="p">)</span>
<span class="n">p4</span><span class="p">.</span><span class="n">green</span><span class="p">()</span> <span class="c1"># (0.141, 0.631, 0.282)
</span>
<span class="n">p5</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">(</span><span class="n">color_mode</span><span class="o">=</span><span class="s">"rgba"</span><span class="p">)</span>
<span class="n">p5</span><span class="p">.</span><span class="n">green</span><span class="p">()</span> <span class="c1"># '(0.141, 0.282, 0.631, 1)'
</span><span class="n">p5</span><span class="p">.</span><span class="n">color_mode</span> <span class="o">=</span> <span class="s">"hex"</span>
<span class="n">p5</span><span class="p">.</span><span class="n">green</span><span class="p">()</span> <span class="c1"># '#24a148'
</span></code></pre></div></div>
<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">SecretColors.utils</code> have a variety of converters (will discuss later on) which can be used to convert your own colors.</p>

<blockquote>
  <p>Matplotlib can accepts ‚Äúhex‚Äù, ‚Äúrgb‚Äù or ‚Äúhexa‚Äù</p>
</blockquote>

<p>The way color mode works is that it always deals with <code class="language-plaintext highlighter-rouge">hex</code> internally. And at the time of output, it converts hex into the desired output. Also keep in mind that while converting it into other formats, due to round off error, converting back might not give exact same color. This issue is discussed in <code class="language-plaintext highlighter-rouge">Utils</code> section.  For general purpose use, this issue won‚Äôt be any problem.</p>

<p>You can get color with transparency by defining <code class="language-plaintext highlighter-rouge">alpha</code> parameter while initializing color. However, this will have an impact on color only if the color mode is compatible with transparency.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p1</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">()</span>
<span class="n">p1</span><span class="p">.</span><span class="n">red</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Returns #fb4b53 and alpha will not have any effect on the color 
# as default color mode is hex which does not support transparency
</span><span class="n">p2</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">(</span><span class="n">color_mode</span><span class="o">=</span><span class="s">"hexa"</span><span class="p">)</span>
<span class="n">p2</span><span class="p">.</span><span class="n">red</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Returns #fb4b537f
</span></code></pre></div></div>

<h3 id="shades">Shades</h3>
<p><a name="shades"></a>
Another important and little bit complex concept about this library is <strong>shade</strong>. This is essentially shade of given color from lighter to darker. If you look at all the color palettes provided in this library, each palette has different shades of the same color, from lighter to darker. Each of these shades is defined by some quantitative number. For example, in IBM palette, these shades are defined from 5 to 100 while in Google Material Color Palette, these shades are defined from 50 to 900.  In contrast, some like ColorBrewer do not have any quantification associated with their colors.  For the sake of uniformity and flexibility, I normalized each shade between 0 to 100, where the lightest shade will be defined by 0 and darkest shade will be defined by 100. If such shade is not available in a given palette, white and black are used respectively. I have done ‚Äò<em>logical normalization</em>‚Äô (Fig 1) which will be intuitive to convert original values to normalized one (explained in the next subsection).</p>

<blockquote>
  <p><strong>shade</strong> should be always between 0 to 100.</p>
</blockquote>

<p>For example,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">()</span>
<span class="n">p</span><span class="p">.</span><span class="n">blue</span><span class="p">()</span>  <span class="c1"># Returns '#408bfc'
</span><span class="n">p</span><span class="p">.</span><span class="n">blue</span><span class="p">(</span><span class="n">shade</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># Returns '#c9deff'
</span><span class="n">p</span><span class="p">.</span><span class="n">blue</span><span class="p">(</span><span class="n">shade</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>  <span class="c1"># Returns '#061f80'
</span></code></pre></div></div>
<p><br />
When no shade value is given, it uses default value set for given palette or 50 (whichever is available).</p>

<h4 id="logical-normalization-of-shades">Logical Normalization of shades</h4>
<p><a name="logic"></a>
As multiple color palettes have their own shades of colors, it was important to have some mechanism which can provide some uniform shades of colors. For this purpose, I created something called ‚ÄòLogical Normalization‚Äô.  It is nothing but scaling original shade values to 0 - 100. In addition, it was also important to maintain easy access to the original shade.  I decided to normalize it with the following formula,</p>

<p><img src="/assets/article_images/2019-06-11-secret-colors-2/formula.png" style="width:50%;" /></p>

<p>In addition to above normalization, we will add <code class="language-plaintext highlighter-rouge">white</code> (#FFFFFF) and <code class="language-plaintext highlighter-rouge">black</code> (#000000)  for 0 and 100 respectively,  if shades with values 0 and/or 100 are not available after normalization. Take look at <a href="#fig1">Fig 1</a> for example of logical normalization of the palette shades.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><a name="fig1"></a><img src="/assets/article_images/2019-06-11-secret-colors-2/normalization.png" alt="Fig 1: Logical Normalization of color palettes" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 1: Logical Normalization of color palettes</td>
    </tr>
  </tbody>
</table>

<p>Entire algorithm and logical steps for accessing specific shade is explained in the <a href="#fig2">Fig 2</a>.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><a name="fig2"></a><img src="/assets/article_images/2019-06-11-secret-colors-2/shade_logic.png" alt="Fig 2: Logic of generation of color shades from the palette" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 2: Logic of generation of color shades from the palette</td>
    </tr>
  </tbody>
</table>

<p>As seen in <a href="#fig2">Fig 2</a>, we can fine-tune the color shades as per our convenience. Full can be found in <a href="https://github.com/secretBiology/SecretColors/blob/129cf5eb71b4b955b45d51679eef914673eed10c/SecretColors/__color.py">this</a> file. Currently, by default, I am dividing color space between two colors in 100 divisions, however, in future, I plan to add more fine tune options. For now, work around this limitation is to use <code class="language-plaintext highlighter-rouge">color_in_between()</code> function from <code class="language-plaintext highlighter-rouge">SecreColors.utils</code></p>

<h3 id="color-gradients">Color Gradients</h3>
<p><a name="gradients"></a>
It is very easy to make color gradients with this library. If you want a single color gradient, you can directly pass <code class="language-plaintext highlighter-rouge">no_of_colors</code> argument while generating color</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="p">.</span><span class="n">red</span><span class="p">(</span><span class="n">no_of_colors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># ['#fcdadc', '#ff949a', '#fb4b53', '#b61a22', '#6b0a0f']
</span><span class="n">p</span><span class="p">.</span><span class="n">red</span><span class="p">(</span><span class="n">no_of_colors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">starting_shade</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>  <span class="c1"># ['#fb555d', '#bf1b23', '#6d0b10']
</span><span class="n">p</span><span class="p">.</span><span class="n">red</span><span class="p">(</span><span class="n">no_of_colors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ending_shade</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>  <span class="c1"># ['#fee7e9', '#fdbabd', '#ff8187']
</span></code></pre></div></div>
<p><br />
You can use flexible <code class="language-plaintext highlighter-rouge">color_between()</code> function of palette to generate color gradient between two colors</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="p">.</span><span class="n">color_between</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">aqua</span><span class="p">(),</span> <span class="n">p</span><span class="p">.</span><span class="n">teal</span><span class="p">(),</span> <span class="n">no_of_colors</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># 3 colors between aqua and teal
</span><span class="n">p</span><span class="p">.</span><span class="n">color_between</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">aqua</span><span class="p">(),</span> <span class="n">p</span><span class="p">.</span><span class="n">teal</span><span class="p">(),</span> <span class="n">no_of_colors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">include_both</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  
<span class="c1"># Both aqua and teal will be added to final return list
</span></code></pre></div></div>
<p><br /></p>
<blockquote>
  <p>Note: color input should be in hex format</p>
</blockquote>

<h3 id="random-colors">Random Colors</h3>
<p><a name="random"></a>
Another fun and useful utility is to get random colors in various different ways.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="p">.</span><span class="n">random</span><span class="p">()</span>  <span class="c1"># Random Color
</span><span class="n">p</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">shade</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>  <span class="c1"># Random color with shade 40
</span><span class="n">p</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">no_of_colors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># 5 random colors
</span><span class="n">p</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">no_of_colors</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">starting_shade</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">ending_shade</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>  <span class="c1"># 10 random colors 
# who's minimum shade can be 30 and maximum shade can be 60
</span></code></pre></div></div>
<p>If you want to know which color is used while randomizing (because sometimes results are surprisingly good :D ), you can pass<code class="language-plaintext highlighter-rouge">print_colors</code> parameter.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">print_colors</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<p>Want gradient between two random colors? No problem, we got you covered.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="p">.</span><span class="n">random_gradient</span><span class="p">(</span><span class="n">no_of_colors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>
<h3 id="matplotlib-integration">Matplotlib Integration</h3>
<p><a name="matplotlib"></a></p>

<p>The initial purpose of this library was to use it in python‚Äôs iconic <a href="https://matplotlib.org/">matplotlib </a> library.  As a result, a lot of functions in this library are optimized for <code class="language-plaintext highlighter-rouge">matplotlib</code>. The simplest way to use this library in matplotlib workflow is to use <code class="language-plaintext highlighter-rouge">Palette</code> instance in the color field.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">SecretColors.palette</span> <span class="kn">import</span> <span class="n">Palette</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">p</span><span class="p">.</span><span class="n">red</span><span class="p">())</span>
<span class="n">plt</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">p</span><span class="p">.</span><span class="n">blue</span><span class="p">())</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>You can use <code class="language-plaintext highlighter-rouge">random()</code> function to get different surprising colors every time you run the program.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">ind</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">barh</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">p</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">no_of_colors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">shade</span><span class="o">=</span><span class="mi">50</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>Comparison between colors from default color scheme and SecretColor color scheme is done in another <a href="/2019/06/17/matplotlib-secret-colors.html">blog post</a>.</p>

<h4 id="colormap">ColorMap</h4>
<p><a name="colormap"></a></p>

<p>The most useful function which can be used with matplotlib is <strong>ColorMap</strong> object. As of the current version, this part is still under heavy development. However, current limited functionality is still very flexible and handy. ColorMap object can generate custom colormaps which can be used directly in matplotlib workflow.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="nn">SecretColors.palette</span> <span class="kn">import</span> <span class="n">Palette</span><span class="p">,</span> <span class="n">ColorMap</span>

<span class="n">colorMap</span> <span class="o">=</span> <span class="n">ColorMap</span><span class="p">(</span><span class="n">matplotlib</span><span class="p">,</span> <span class="n">Palette</span><span class="p">())</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span><span class="n">colorMap</span><span class="p">.</span><span class="n">greens</span><span class="p">())</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>Currently, only 4 default colormaps are supported (greens, hot, warm, calm).  However, they are not optimized yet. We recommend customizing your own colormaps until further development in this object.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="nn">SecretColors.palette</span> <span class="kn">import</span> <span class="n">Palette</span><span class="p">,</span> <span class="n">ColorMap</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Palette</span><span class="p">()</span>
<span class="n">colorMap</span> <span class="o">=</span> <span class="n">ColorMap</span><span class="p">(</span><span class="n">matplotlib</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">.</span><span class="n">indigo</span><span class="p">(</span><span class="n">shade</span><span class="o">=</span><span class="mi">70</span><span class="p">),</span> <span class="n">p</span><span class="p">.</span><span class="n">indigo</span><span class="p">(</span><span class="n">shade</span><span class="o">=</span><span class="mi">20</span><span class="p">),</span> <span class="n">p</span><span class="p">.</span><span class="n">amber</span><span class="p">(</span><span class="n">shade</span><span class="o">=</span><span class="mi">70</span><span class="p">)]</span>
<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">colorMap</span><span class="p">.</span><span class="n">from_list</span><span class="p">(</span><span class="n">colors</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>This essentially opens unlimited options to generate colormaps. You can also use qualitative colormaps by passing <code class="language-plaintext highlighter-rouge">is_qualitative=True</code> argument.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">colorMap</span><span class="p">.</span><span class="n">from_list</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">is_qualitative</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
</code></pre></div></div>

<h3 id="utilities">Utilities</h3>
<p><a name="utils"></a></p>

<p>There are tons of utilities which you can use as a standalone function. Few of useful functions and their uses are briefly described below. Check out full <a href="https://secretcolors.readthedocs.io">documentation</a> for all utilities.</p>

<p>These can be imported as</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">SecretColors.utils</span> <span class="kn">import</span> <span class="o">*</span>
</code></pre></div></div>

<p>Most important function in the utility class is <code class="language-plaintext highlighter-rouge">color_in_between</code> . Palette class uses this function to get arbitrary shades between two colors.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">color_in_between</span><span class="p">(</span><span class="s">"#24a148"</span><span class="p">,</span> <span class="s">"#12a3b4"</span><span class="p">,</span> <span class="n">no_of_colors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p>Palette‚Äôs <code class="language-plaintext highlighter-rouge">color_between</code> is just a fancier version of above function.</p>

<p>If you want to get complementary colors</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get_complementary</span><span class="p">(</span><span class="s">"#24a148"</span><span class="p">)</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">text_color</code> is a very helpful function in deciding the text color of your plots. Generally, we should use black (or darker) text color on a lighter background and vice versa. This utility returns black or white color based on the brightness of the color.  This is very essential in UI-UX point of view and readability of the graph or design.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">text_color</span><span class="p">(</span><span class="s">"#ffffff"</span><span class="p">)</span>  <span class="c1"># Returns #000000
</span><span class="n">text_color</span><span class="p">(</span><span class="s">"12a3b4"</span><span class="p">)</span>  <span class="c1"># Returns #ffffff
</span></code></pre></div></div>

<p>Few useful converter functions</p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Usage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>rgb_to_hex</td>
      <td>Converts RGB to Hex<br /> e.g. rgb_to_hex(0.98, 0.29, 0.32)</td>
    </tr>
    <tr>
      <td>hex_to_rgb</td>
      <td>Converts Hex to RGB (0-1 range)<br />e.g. hex_to_rgb(‚Äú#f94951‚Äù)</td>
    </tr>
    <tr>
      <td>hex_to_rgb255</td>
      <td>Converts Hex to RGB (0-255 range)<br />e.g. hex_to_rgb255(‚Äú#24a148‚Äù)</td>
    </tr>
    <tr>
      <td>rgb_to_hsl</td>
      <td>Converts RGB to HSL<br />e.g. rgb_to_hsl(0.34, 0.46, 0.22)</td>
    </tr>
    <tr>
      <td>hsl_to_rgb</td>
      <td>Converts HSL to RGB<br />e.g. hsl_to_rgb(0.54, 0.66, 0.12)</td>
    </tr>
    <tr>
      <td>hex_to_hsl</td>
      <td>Converts Hex to HSL<br />e.g. hex_to_hsl(‚Äú#f94951‚Äù)</td>
    </tr>
    <tr>
      <td>hsl_to_hex</td>
      <td>Converts HSL to Hex<br />e.g. hsl_to_rgb(0.54, 0.66, 0.12)</td>
    </tr>
    <tr>
      <td>hex_to_ahex</td>
      <td>Adds Transparency unit to hex code (at the beginning)<br /> e.g. hex_to_ahex(‚Äú#f94951‚Äù, 0.8)</td>
    </tr>
    <tr>
      <td>hex_to_hex_a</td>
      <td>Adds Transparency unit to hex code (at the end)<br /> e.g. hex_to_ahex(‚Äú#f94951‚Äù, 0.8)</td>
    </tr>
    <tr>
      <td>hex_to_rgba</td>
      <td>Converts Hex to RGBA<br />e.g. hex_to_rgba(‚Äú#f94951‚Äù, 0.8)</td>
    </tr>
    <tr>
      <td>hex_to_hsla</td>
      <td>Converts Hex to HSLA<br />e.g. hex_to_hsla(‚Äú#f94951‚Äù, 0.8)</td>
    </tr>
  </tbody>
</table>

<p>Above conversion, functions are rounded off to 3 decimal points. Hence there might be a minor difference in color value when you convert it back. For example,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hex_to_rgb</span><span class="p">(</span><span class="s">"#12a3b4"</span><span class="p">)</span> <span class="c1"># Returns (0.071, 0.639, 0.706)
</span><span class="n">rgb_to_hex</span><span class="p">(</span><span class="mf">0.071</span><span class="p">,</span> <span class="mf">0.639</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">)</span> <span class="c1"># Returns #12a2b4
</span></code></pre></div></div>

<p>The above result changed slightly because while converting HEX to RGB, we rounded off our decimal points to 3 digits. This can lead to a loss of approx. 0.01 value from any of the Red, Green or Blue value. This will lead to a change in HEX value while converting it back. Visually, this will make very subtle and probably unnoticeable change in the color (see <a href="#fig3">Fig 3</a>). Hence, it is safe to use in your visualizations. However, we recommend not to use it in your algorithmic or logical functions for comparing absolute values. To resolve this, I am planning to add the ability to decide the round off digits in the function.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><a name="fig3"></a><img src="/assets/article_images/2019-06-11-secret-colors-2/vis_diff.png" alt="" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 3: Two closely related hex codes are used to generate above bars. There is difference of approx. 0.01 value in Green channel. However, this difference is visually, unnoticeable.</td>
    </tr>
  </tbody>
</table>

<h3 id="references-and-notes">References and Notes</h3>
<ol>
  <li><a name="ref1"></a> Tufte E. (1986). The Visual Display of Quantitative Information. Graphics Press, Cheshire, CT, USA. ISBN:0-9613921-0-X</li>
  <li><a name="ref2"></a> Osborne R. (1989), Color Theory and Its Application in Art and Design, by George A. Agoston, Springer‚ÄêVerlag, New York and Berlin 1987, 286 pp. 139 figs., paperbound. Color Res. Appl., 14: 272-272.</li>
  <li><a name="ref3"></a> Levkowitz H. (1997). Color Theory and Modeling for Computer Graphics, Visualization, and Multimedia Applications. Kluwer Academic Publishers, Norwell, MA, USA.</li>
</ol>

<p><em>(Header image by <a href="https://pixabay.com/users/pexels-2286921/">pexels</a> from <a href="https://pixabay.com/">Pixabay</a>, released under CC0-license.)</em></p>
:ET