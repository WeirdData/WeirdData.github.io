I"(<p>This post is an outcome of short analysis I discussed in my <a href="https://weirddata.github.io/2018/07/25/railway-stats.html">previous</a> post. While checking the distribution of trains across different railway stations, I came into a problem of differentiating regular long distance railways versus local and suburban trains. At that time I was not aware of any database which can separate these trains. Hence, I used distance as a crude criterion for that. After that, I was searching for if there exists such a database where we can differentiate between these two types of trains. While discussing with my other colleagues, one person mentioned that long-distance trains number always starts with a letter “1”. Initially, I thought it might be some regular observation, but then I started to see a little bit of pattern. Then simple google search gave me a link to the <a href="https://www.irfca.org/faq/faq-number.html">blog</a> explaining the logic behind the Indian train number. It was mind-boggling. I quickly adapted this system to understand my current dataset. I am enlisting a few key points from that blog which separates local or suburban trains from others. If we look at the first digit of trains with 5 digit train numbers, we can identify them as follows.</p>

<table>
  <tbody>
    <tr>
      <td><strong>Digit</strong></td>
      <td><strong>First Digit</strong> (type)</td>
      <td><strong>Second Digit</strong> (zone)</td>
    </tr>
    <tr>
      <td>0</td>
      <td>special trains</td>
      <td>Konkan Railway</td>
    </tr>
    <tr>
      <td>1</td>
      <td>long-distance trains</td>
      <td>CR, WCR and NCR</td>
    </tr>
    <tr>
      <td>2</td>
      <td>long-distance trains if 1 is exhausted</td>
      <td>Superfasts and Shatabdi</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Kolkata suburban</td>
      <td>ER and ECR</td>
    </tr>
    <tr>
      <td>4</td>
      <td>suburban trains in Chennai, New Delhi, Secunderabad, and other</td>
      <td>NR, NCR and NWR</td>
    </tr>
    <tr>
      <td>5</td>
      <td>passenger trains with conventional coaches</td>
      <td>NER and NFR</td>
    </tr>
    <tr>
      <td>6</td>
      <td><a href="https://en.wikipedia.org/wiki/MEMU">MEMU</a> trains</td>
      <td>SR and SWR</td>
    </tr>
    <tr>
      <td>7</td>
      <td><a href="https://en.wikipedia.org/wiki/Diesel_multiple_unit">DEMU</a> and railcar services.</td>
      <td>SCR and SWR</td>
    </tr>
    <tr>
      <td>8</td>
      <td>reserved</td>
      <td>SER and ECoR</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Mumbai locals</td>
      <td>WR, NWR and WCR</td>
    </tr>
  </tbody>
</table>

<p>For example, Train number <strong>15</strong>905 (Dbrg Vivek Express) will be long distance (<strong>1</strong>) and from NER or NFR zone (<strong>5</strong>). More detailed information about numbering can be found on <a href="https://www.irfca.org/faq/faq-number.html">IRFCA</a> website. For the zonal part, fortunately, I have already scrapped data from existing <a href="https://indiarailinfo.com/atlas">database</a>. Hence, I have a database of every station and which zone and state it belongs to. You can get this data from <a href="https://github.com/WeirdData/RailwayVisualization/blob/master/stations_data.txt">GitHib</a>.</p>

<h3 id="old-versus-new-trains">Old versus New trains</h3>

<p>It looks like 5 train number system was adopted from 20 December 2010<sup><a href="#ref1">1</a></sup>. Another interesting thing I found out is that <code class="language-plaintext highlighter-rouge">Down</code> refers to a train travelling away from its headquarters or from its Divisional headquarters, whichever is closer <sup><a href="#ref1">1</a>,<a href="#ref2">2</a></sup>. I quickly looked into my database about statistics on old and new trains. Following are the statistics</p>
<ul>
  <li>Trains post 2010 (5 digits): <strong>10840</strong> trains</li>
  <li>Trains between 1989-2010 (4 digits)  : <strong>259</strong> trains</li>
  <li>Trains before 1989 (3 digits) : <strong>13</strong> trains</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="/assets/article_images/2018-08-21-railway-old-new/train_distribution.png" alt="Fig 1: Train type Distribution" title="Train type Distribution" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 1: Distribution of different types of trains named after 2010. Other suburban includes suburban and local trains from Chennai, New Delhi, Secunderabad and other. (Total trains:10840)</td>
    </tr>
  </tbody>
</table>

<p>Next, I checked how this look into different zones. There are 16 zones<sup><a href="#ref3">3</a></sup> in Indian Railway. In the data retrieved from the web, I also received zone named “KR” which was not there is official zones names. After searching which stations are included in that, I found out it was part of “Konkan Railways”.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="/assets/article_images/2018-08-21-railway-old-new/zone_wise.png" alt="Fig 2: Zone wise Distribution" title="Zone wise Distribution" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 2: Zone wise distribution of Indian trains. Outer Pie represents the zonal distribution of trains while inner pie further subdivides it into Suburban/local and long distance trains based on train numbers. Only 5 digit train numbers were included in this analysis. A darker shade of color represents long-distance trains while light color represents suburban trains. *Suburban trains also includes passengers while long-distance trains also include special, MEMU and DEMU. (Total trains:10697<sup><a href="#ref4">4</a></sup>)</td>
    </tr>
  </tbody>
</table>

<h3 id="inter-zonal-connectivity">Inter-Zonal connectivity</h3>

<p>I was curious about how different zones are connected to each other. To understand that I scanned every railway and checked which zones it is connecting. In a single railway route, I considered all possible combinations of connectivity. For example if a train has route (A-&gt;B-&gt;C) then I will consider (A-&gt;B, A-&gt;C and B-&gt;C) as possible connections. Then I counted all combinations where routes connect two different zones. For this purpose, I constructed the matrix with all possible zone combinations. Every time we have a connection, we can increase the counter for given zone pair. If we plot this matrix as a histogram, we should be able to see inter-zonal connectivity.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="/assets/article_images/2018-08-21-railway-old-new/zonal_connectivity.png" alt="Fig 3: Zonal connectivity" title=" Zonal connectivity" /> <a name="fig3"></a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 3: Inter-Zonal connectivity. Each block represents number of station-pairs from all the trains which connects two zones.</td>
    </tr>
  </tbody>
</table>

<p>In Fig <a href="#fig3">3</a> we can see that there are few hot-spots of zonal inter-connectivity. Like ECR-ER, ECR-NR and CR-SCR. Obvious next step was to check if this translates to states which are part of these zones. This will not only validate our connectivity data but also tell us connectivity between states.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="/assets/article_images/2018-08-21-railway-old-new/state_connectivity.png" alt="Fig 4: State connectivity" title=" State connectivity" /> <a name="fig4"></a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 4: Inter-state connectivity. Each block represents number of station-pairs from all the trains which connects two states. Black color represents zero<sup><a href="#ref5">5</a></sup>.</td>
    </tr>
  </tbody>
</table>

<p>As seen in Fig <a href="#Fig4">4</a>, Uttar Pradesh was the top state which has connectivity with other states with approximately 87612 pairs of origin-destination stops. This was followed by Maharashtra (65908), Andhra Pradesh (60498) and Bihar (58434). However, this comparison might be biased as this number does not an account of a different number of states it is connected to. To resolved this, I just checked how many numbers of different states are connected.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="/assets/article_images/2018-08-21-railway-old-new/different_states.png" alt="Fig 5: Different States" title=" Different States" /> <a name="fig5"></a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Fig 5: Inter-state connectivity by distinct states. Two states are considered to be connected if there is at least one train which passes through them<sup><a href="#ref5">5</a></sup>.</td>
    </tr>
  </tbody>
</table>

<p>As Fig <a href="#fig5">5</a> shows, Delhi and Uttar Pradesh are most connected states who connects 25 out of 29 states and 7 union territories. Followed by Assam, Karnataka, Maharashtra and West Bengal (24 states/union territories). As a capital city, I was expecting to see Delhi on the top. Nonetheless, it is interesting to see how different parts of India are connected. In the next post, I will cover this geographical distribution in more detail.</p>

<h3 id="references-and-notes">References and Notes</h3>
<ol>
  <li><a name="ref1"></a> IRFCA accessed on 1 August 2018 - https://www.irfca.org/faq/faq-number.html</li>
  <li><a name="ref2"></a> With many exceptions of course !</li>
  <li><a name="ref3"></a> <a href="http://www.indianrailways.gov.in/railwayboard/view_section.jsp?lang=0&amp;id=0,1,304,366,533,1007,1012">Indian Railway Website</a> accessed on 20 Aug 2018.</li>
  <li><a name="ref4"></a> For few trains zonal data was not available.</li>
  <li><a name="ref5"></a> I removed few stations (around 100) and trains from this analysis because state/zone information was not available for those.</li>
</ol>

<p>Code used in the above analysis can be found <a href="https://github.com/WeirdData/RailwayVisualization">here</a>.</p>

<p><em>(Header image is downloaded from Pixabay.com under CC0-license)</em></p>
:ET